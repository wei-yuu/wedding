import{d as _,r as i,o as f,c as x,a as t,k as u,G as r,f as v,w as g,m as w,P as n,z as p,e as h,s as b}from"./index-64e7db9f.js";import{i as y,u as k}from"./use-api-call-8c513bff.js";const B=async({name:o,message:a})=>{await y.post("https://script.google.com/macros/s/AKfycbzfw21WAg_9QL-Q1iupDBS2MU-MkQQapUQQpBZeNYThXD-4RQIT2SUtWVGCg3xIAFnd/exec",JSON.stringify({name:o,message:a}))},Q=()=>k(async({name:o,message:a})=>await B({name:o,message:a})),C={class:"w-screen h-screen flex justify-center items-center"},N={class:"m-auto px-8 xl:w-[70vw] md:w-[80vw] w-[90vw] h-[65vh] bg-white/80 rounded-lg flex flex-col justify-center gap-10"},V=t("div",{class:"md:text-4xl text-3xl text-center"},"留言給我們 (σ′▽‵)′▽‵)σ",-1),A={class:"grid gap-2 text-2xl"},M=t("span",null,"如何稱呼：",-1),U={class:"grid gap-2 text-2xl"},T=t("span",null,"想對我們說：",-1),z=_({__name:"wishes",setup(o){const{fetch:a}=Q(),e=i(""),s=i(""),d=async()=>{if(!e.value){n.alert({title:"請不要害羞，讓我們知道怎麼稱呼你🥺",options:{button:{color:"blue"}}});return}if(!s.value){n.alert({title:"等等！你沒有話要跟我們說嗎？😮",options:{button:{color:"blue"}}});return}p.start("正在紀錄你的祝福～～～","edit"),await a({name:e.value,message:s.value}).then(()=>{n.confirm({title:`感謝 ${e.value} 的留言`,message:"再留一則或去看看我們的故事更了解暐褕吧🤭",options:{cancelButton:{text:"還有話想說～",color:"pink",callback:()=>{s.value=""}},confirmButton:{text:"去看故事！",color:"blue",callback:()=>{e.value="",s.value="",h.push("/our-story")}}}})}).catch(()=>{n.alert({title:"噢...抱歉！出了點問題🥹",message:"請您再重新發送一次🙏",options:{button:{color:"gray"}}})}).finally(()=>p.stop())};return(D,l)=>{const m=b;return f(),x("div",C,[t("div",N,[V,t("div",A,[M,u(t("input",{class:"w-full",type:"text","onUpdate:modelValue":l[0]||(l[0]=c=>e.value=c)},null,512),[[r,e.value]])]),t("div",U,[T,u(t("input",{class:"w-full",type:"text","onUpdate:modelValue":l[1]||(l[1]=c=>s.value=c)},null,512),[[r,s.value]])]),v(m,{color:"blue",onClick:d},{default:g(()=>[w("(๑•̀ω•́)ノ [發送 !!]")]),_:1})])])}}});export{z as default};
